webpackJsonp([1],[,,function(t,e,s){"use strict";var n=s(122),a=s.n(n),o=s(22),i=s(1),r=s(91),l=s(92),c=s(93);o.default.use(i.b),e.a=new i.b.Store({modules:{auth:r.a,class:l.a,map:c.a},state:{classifying:!1,editing:!1,loadingTiles:!0,past:!1,predictors:[],selectedPredictors:[],maxRegionSize:1e5,citation:""},getters:{editing:function(t){return t.editing},json:function(t){return a()({classes:t.class.classes,region:t.map.region})},mapData:function(t){return{region:t.map.region,classList:t.class.classes.map(function(t,e){return{points:t.markers,colour:t.colour,lab:e+1,name:t.name}}),selected:t.class.selectedAssessment,past:t.past,predictors:t.selectedPredictors}},loaderActive:function(t){return t.classifying||t.loadingTiles},predictorVis:function(t){return t.predictors.filter(function(t){return t.vis})},predictors:function(t){return t.predictors},citation:function(t){return t.citation},maxRegionSize:function(t){return t.maxRegionSize},past:function(t){return t.past}},actions:{resetTraining:function(t){return(0,t.commit)("resetTraining")},toggleEditing:function(t){return(0,t.commit)("toggleEditing")},setClassifying:function(t,e){return(0,t.commit)("setClassifying",e)},setLoadingTiles:function(t,e){return(0,t.commit)("setLoadingTiles",e)},setPast:function(t,e){return(0,t.commit)("setPast",e)},setPredictors:function(t,e){return(0,t.commit)("setPredictors",e)},setCitation:function(t,e){return(0,t.commit)("setCitation",e)},selectPredictors:function(t,e){return(0,t.commit)("selectPredictors",e)},setMaxRegionSize:function(t,e){return(0,t.commit)("setMaxRegionSize",e)}},mutations:{setPast:function(t,e){t.past=e},setMaxRegionSize:function(t,e){t.setMaxRegionSize=e},setClassifying:function(t,e){t.classifying=e},setLoadingTiles:function(t,e){t.loadingTiles=e},toggleEditing:function(t){t.editing||t.map.showMarkers||(t.map.showMarkers=!0),t.editing=!t.editing},setPredictors:function(t,e){t.predictors=e},setCitation:function(t,e){t.citation=e},selectPredictors:function(t,e){t.selectedPredictors=e}}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,s){"use strict";e.a=function(t,e){var s=new FileReader;s.onload=function(s){if(window.navigator.msSaveOrOpenBlob)navigator.msSaveBlob(e,t);else{var n=document.createElement("a");n.href=window.URL.createObjectURL(e),n.download=t,document.body.appendChild(n),n.click(),n.remove()}},s.readAsDataURL(e)}},,,,,,,,function(t,e){t.exports="data:image/png;base64,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"},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,s){function n(t){s(156)}var a=s(0)(s(116),s(214),n,null,null);t.exports=a.exports},,,,,,,,,function(t,e){},,,,function(t,e,s){function n(t){s(173)}var a=s(0)(s(94),s(234),n,null,null);t.exports=a.exports},,,,,function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(22),a=s(85),o=s.n(a),i=s(86),r=s.n(i),l=s(81),c=(s.n(l),s(57)),d=(s.n(c),s(84)),u=s.n(d),m=s(88),p=s.n(m),f=s(83),g=s.n(f),h=s(87),v=s(82),y=s.n(v);n.default.config.productionTip=!1;var _=s(89);n.default.use(h.a),n.default.use(r.a),n.default.use(c,{load:{key:"AIzaSyAyyUOUNBCZo_u4YpTl6ioNMWbWMy2rx7w",libraries:"places"}}),n.default.use(u.a,{dialog:!0}),n.default.use(p.a),n.default.use(g.a),n.default.use(_),n.default.use(y.a,{id:"UA-98429542-1"}),n.default.material.registerTheme("default",{primary:{color:"red",hue:800},accent:{color:"grey",hue:900}}),new n.default({el:"#app",template:"<App/>",components:{App:o.a},http:{root:"/api"}})},function(t,e,s){"use strict";e.a={state:{googleObject:null,serverSignedIn:!1},getters:{emailAddress:function(t,e){return e.isSignedIn?t.googleObject.currentUser.get().getBasicProfile().getEmail():"Not signed in."},isSignedIn:function(t){return null!==t.googleObject&&t.googleObject.isSignedIn.get()&&t.serverSignedIn}},actions:{setGoogleObject:function(t,e){return(0,t.commit)("setGoogleObject",e)},signIn:function(t){return(0,t.commit)("signIn")},signOut:function(t){return(0,t.commit)("signOut")}},mutations:{setGoogleObject:function(t,e){t.googleObject=e},signIn:function(t){t.serverSignedIn=!0},signOut:function(t){t.googleObject.signOut().then(function(t){return console.log("signed out")}),t.serverSignedIn=!1}}}},function(t,e,s){"use strict";var n=s(58),a=s.n(n),o=["77AADD","DDAA77","77CCCC","CC99BB","DDDD77","DD7788","4477AA","AA7744","44AAAA","AA4488","AAAA44","AA4455","114477","774411","117777","771155","777711","771122"];e.a={state:{classes:[],editingClassIdx:0,selectedClass:0,selectedAssessment:0},getters:{classes:function(t){return t.classes},editingClass:function(t){return t.editingClassIdx<t.classes.length?t.classes[t.editingClassIdx]:t.editingClassIdx},selectedClass:function(t){return t.classes[t.selectedClass]},selectedIDX:function(t){return t.selectedClass}},actions:{addClass:function(t,e){return(0,t.commit)("addClass",e)},addMarker:function(t,e){return(0,t.commit)("addMarker",e)},deleteMarker:function(t,e){return(0,t.commit)("deleteMarker",e)},clearClasses:function(t){return(0,t.commit)("clearClasses")},deleteClass:function(t){return(0,t.commit)("deleteClass")},editClass:function(t,e){return(0,t.commit)("editClass",e)},selectClass:function(t,e){return(0,t.commit)("selectClass",e)},setClasses:function(t,e){return(0,t.commit)("setClasses",e)},setClassToEdit:function(t,e){return(0,t.commit)("setClassToEdit",e)},setAssessment:function(t,e){return(0,t.commit)("selectedAssessment",e)}},mutations:{addClass:function(t,e){e=void 0===e||0===e.length?"Class "+(t.classes.length+1):e;var s=t.classes.length<o.length?"#"+o[t.classes.length]:"#ff0000",n={name:e,colour:s,markers:[]};t.classes.push(n),t.selectedClass=t.classes.length-1},addMarker:function(t,e){t.classes[t.selectedClass].markers.push(e)},deleteMarker:function(t,e){t.classes[e.classIndex].markers.splice(e.markerIndex,1)},clearClasses:function(t){t.classes=[],t.selectedClass=0},selectedAssessment:function(t,e){t.selectedAssessment=e},deleteClass:function(t){confirm("Are you sure you want to delete '"+t.classes[t.editingClassIdx].name+"'?")&&(t.selectedClass===t.editingClassIdx&&t.classes.length-1===t.editingClassIdx&&(t.selectedClass=t.editingClassIdx-1),t.classes.splice(t.editingClassIdx,1))},editClass:function(t,e){t.classes[t.editingClassIdx].colour=e.colour,t.classes[t.editingClassIdx].name=e.className},resetTraining:function(t){confirm("Are you sure you want to clear all training data?")&&(t.classes=[],t.selectedIDX=0)},selectClass:function(t,e){t.selectedClass=e},setClasses:function(t,e){var s=!0,n=!1,o=void 0;try{for(var i,r=a()(e);!(s=(i=r.next()).done);s=!0){var l=i.value;if(l.markers.length>0){Array.isArray(l.markers[0])&&e.forEach(function(t,s){e[s].markers=e[s].markers.map(function(t){return{lat:t[0],lng:t[1]}})});break}}}catch(t){n=!0,o=t}finally{try{!s&&r.return&&r.return()}finally{if(n)throw o}}t.classes=e},setClassToEdit:function(t,e){t.editingClassIdx=e}}}},function(t,e,s){"use strict";e.a={state:{mapLayers:[],region:[],showMarkers:!0,focusToggle:!1,viewBounds:null,viewCentre:{},viewZoom:9},getters:{mapLayers:function(t){return t.mapLayers},region:function(t){return t.region},showMarkers:function(t){return t.showMarkers},focusToggle:function(t){return t.focusToggle},viewBounds:function(t){return t.viewBounds},viewCentre:function(t){return t.viewCentre},viewZoom:function(t){return t.viewZoom}},actions:{addMapLayer:function(t,e){return(0,t.commit)("addMapLayer",e)},deleteMapLayer:function(t,e){return(0,t.commit)("deleteMapLayer",e)},initRegion:function(t){return(0,t.commit)("initRegion")},setBounds:function(t,e){return(0,t.commit)("setBounds",e)},setRegion:function(t,e){return(0,t.commit)("setRegion",e)},setRegionFocus:function(t,e){return(0,t.commit)("setRegionFocus",e)},setShowMarkers:function(t,e){return(0,t.commit)("setShowMarkers",e)},toggleFocus:function(t){return(0,t.commit)("toggleFocus")},search:function(t,e){return(0,t.commit)("search",e)}},mutations:{addMapLayer:function(t,e){"predictor"===e.type?(e.opacity=100,e.visualized=!0,t.mapLayers.splice(0,1,e)):(e.opacity=100,e.visualized=!0,3===t.mapLayers.length&&t.mapLayers.splice(1,1),t.mapLayers.push(e))},deleteMapLayer:function(t,e){0!==e&&e<t.mapLayers.length&&t.mapLayers.splice(e,1)},initRegion:function(t){t.region=[{lat:-35.52359131926069,lng:136.38815795898438},{lat:-35.52359131926069,lng:138.25308715820313},{lat:-36.214641115198745,lng:138.25308715820313},{lat:-36.214641115198745,lng:136.38815795898438}],t.viewCentre={lat:-35.8691162172,lng:137.320622559},t.viewZoom=9,"google"in window&&(t.viewBounds=new window.google.maps.LatLngBounds,t.region.forEach(function(e){return t.viewBounds.extend(new window.google.maps.LatLng(e))}))},setBounds:function(t,e){t.viewBounds=e},setRegion:function(t,e){e[0]instanceof Array&&(e=e.map(function(t){return{lat:t[0],lng:t[1]}})),t.region=e},setRegionFocus:function(t,e){var s=new window.google.maps.LatLngBounds;e[0]instanceof Array&&(e=e.map(function(t){return{lat:t[0],lng:t[1]}})),t.region=e,e.forEach(function(t){return s.extend(new window.google.maps.LatLng(t.lat,t.lng))}),t.viewBounds=s},setShowMarkers:function(t,e){t.showMarkers=e},toggleFocus:function(t){t.focusToggle=!t.focusToggle},search:function(t,e){t.viewBounds=e.geometry.viewport}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(2),a=s(1),o=s(199),i=s.n(o),r=s(190),l=s.n(r),c=s(192),d=s.n(c),u=s(200),m=s.n(u),p=s(201),f=s.n(p),g=s(203),h=s.n(g),v=s(204),y=s.n(v),_=s(202),b=s.n(_);e.default={name:"app",components:{GMap:l.a,Loader:d.a,ModalAssessment:m.a,ModalClass:f.a,ModalResults:h.a,ModalHelp:b.a,ModalUpload:y.a,Sidebar:i.a},store:n.a,methods:s.i(a.a)(["setPredictors","setCitation"]),mounted:function(){var t=this;this.$http.get("/api/config").then(function(e){e.body.debug?console.log("Running remap in debug mode."):(window.onbeforeunload=function(){return!0},t.$ga.page("/remap")),t.setPredictors(e.body.predictors),t.setCitation(e.body.citation)})}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(4),a=s.n(n),o=s(1),i=s(2);e.default={name:"assessment",data:function(){return{assessSelect:0}},store:i.a,computed:s.i(o.c)(["classes"]),methods:a()({runAssessment:function(){this.setAssessment(this.assessSelect),this.$modal.show("assessment-modal",{selectedIndex:this.assessSelect})}},s.i(o.a)(["setAssessment"]))}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(4),a=s.n(n),o=s(1),i=s(2);e.default={name:"build-training",store:i.a,computed:s.i(o.c)(["classes","editing","selectedIDX"]),mounted:function(){0===this.classes.length&&this.addClass()},watch:{classes:function(){0===this.classes.length&&this.addClass()}},methods:a()({},s.i(o.a)(["addClass","addMarkers","resetTraining","selectClass","setClassToEdit","toggleEditing"]),{editClass:function(t){this.setClassToEdit(t),this.$modal.show("classModal")},uploadModal:function(){this.$modal.show("uploadModal")}})}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(4),a=s.n(n),o=s(2),i=s(1);e.default={name:"classify",store:o.a,methods:a()({},s.i(i.a)(["addMapLayer","setLoadingTiles"]),s.i(i.c)(["mapData","past"]),{check:function(){var t=this.mapData().classList.filter(function(t){return t.points.length<20});0!==t.length?this.$modal.show("dialog",{title:"Too few markers",text:t[0].name+" has too few markers, currently ("+t[0].points.length+") we recommend at least 20 per class.",buttons:[{title:"Classify",handler:this.giveTraining},{title:"Close"}]}):this.giveTraining()},giveTraining:function(){var t=this,e=this.mapData();this.setLoadingTiles(!0),this.$http.post("/api/map",e).then(function(s){var n=s.body.pop();t.setLoadingTiles(!1),t.addMapLayer({type:"classification",name:"Classification "+(e.past?"99-03":"14-17"),label:"",mapid:n.mapid,token:n.token})}).catch(function(e){t.setLoadingTiles(!1),console.log(e),t.$toasted.show("Error getting classified map. "+e.body.message,{duration:5e3})})}})}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(1),a=s(2);e.default={name:"email-address",store:a.a,computed:s.i(n.c)(["emailAddress"])}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(4),a=s.n(n),o=s(1),i=s(36),r=s(2);e.default={name:"export",store:r.a,computed:s.i(o.c)(["classes","isSignedIn"]),data:function(){return{authReady:!1,exportStatus:"NOT_STARTED",exportReady:!0}},mounted:function(){var t=this,e=document.createElement("script");e.onload=function(){if(!window.gapi)return void console.error("No gapi included");t.auth()},e.src="https://apis.google.com/js/api:client.js",e.async=!0,e.defer=!0,document.getElementsByTagName("head")[0].appendChild(e)},methods:a()({},s.i(o.c)(["json","mapData"]),s.i(o.a)(["signIn","signOut","setGoogleObject"]),{auth:function(){var t=this;window.gapi.load("auth2",function(){var e=window.gapi.auth2.init({client_id:"705714878286-qbg7sf892td0gkkeorv0m0frlu7qhmgv.apps.googleusercontent.com"});t.setGoogleObject(e),t.authReady=!0})},downloadCSV:function(){var t=[];if(t.push("lat,lng,label"),this.classes.forEach(function(e){var s=e.markers.map(function(t){return[t.lat,t.lng,e.name]});t=t.concat(s)}),1===t.length)return void this.$toasted.show("No training data to download",{duration:4e3});var e=new Blob([t.join("\n")],{type:"text/csv"});s.i(i.a)("remap_points.csv",e)},downloadURL:function(){this.$http.post("/api/download",this.mapData()).then(function(t){var e=t.body,s=document.createElement("a");s.href=e.url,s.download="remap_export",document.body.appendChild(s),s.click(),s.remove()})},downloadDrive:function(){var t=this;this.exportReady=!1,this.$http.post("/api/export",this.mapData()).then(function(e){t.exportReady=!1,setTimeout(t.poll,1e4),t.exportStatus="IN_PROGRESS"}).catch(function(e){t.exportReady=!0,t.$toasted.show("Error Exporting: "+e.body.message,{duration:5e3})})},downloadJSON:function(){var t=new Blob([this.json()],{type:"application/json"});s.i(i.a)("remap_training.json",t)},poll:function(){var t=this;this.$http.get("/api/exportstatus").catch(function(e){console.error("polling error"),console.error(e),setTimeout(t.poll,1e4)}).then(function(e){t.exportStatus=e.body,console.log("polling result "+e.body),"IN_PROGRESS"===t.exportStatus?setTimeout(t.poll,1e4):("ERROR"===t.exportStatus?t.$toasted.show("Error downloading from Drive.",{duration:5e3}):"COMPLETED"===t.exportStatus?t.$toasted.show("Drive download completed!",{duration:5e3}):"NOT_STARTED"===t.exportStatus?t.$toasted.show("Drive download did not start.",{duration:5e3}):t.$toasted.show("Sorry, something went wrong ("+t.exportStatus+").",{duration:5e3}),t.exportReady=!0)})},signInClick:function(){var t=this;window.gapi.auth2.getAuthInstance().grantOfflineAccess().then(function(e){e.code&&t.$http.post("/oauth2callback",e).then(function(e){t.signIn()}).catch(function(e){console.error("Error with oauth2callback."),console.error(e),t.signOut()})},function(t){if("popup_closed_by_user"!==t.error)throw t})},preSignOut:function(){this.exportReady=!1,this.$http.post("/api/signout").then(this.signOut)}})}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(1),a=s(2);e.default={name:"focus-region",store:a.a,methods:s.i(n.a)(["toggleFocus"])}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(4),a=s.n(n),o=s(1),i=s(57),r=(s.n(i),s(2));e.default={name:"g-map",store:r.a,computed:a()({},s.i(o.c)(["classes","editing","focusToggle","mapLayerOpacity","mapLayers","region","showMarkers","viewBounds","viewCentre","viewZoom","maxRegionSize"]),{opacityArray:function(){return this.mapLayers.map(function(t){return t?t.opacity:100})},visArray:function(){return this.mapLayers.map(function(t){return t.visualized})}}),data:function(){return{center:this.viewCentre,zoom:this.viewZoom,mapType:"satellite",options:{mapTypeControlOptions:{position:3},zoomControl:!0,zoomControlOptions:{position:1},scaleControl:!0,streetViewControl:!1},polygonOptions:{strokeColor:"#FF0000",strokeOpacity:.8,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.05,editable:!0,geodesic:!0,clickable:!1},markerOptions:{draggable:!0}}},components:{myMap:i.myMap},watch:{opacityArray:function(){this.updateOpacity()},visArray:function(){this.updateOpacity()},mapLayers:function(){var t=this.$refs.googlemap.$mapObject.overlayMapTypes;this.mapLayers.map(function(e,s){var n={getTileUrl:function(t,s){return["https://earthengine.googleapis.com/map",e.mapid,s,t.x,t.y].join("/")+"?token="+e.token},tileSize:new window.google.maps.Size(256,256)},a=new window.google.maps.ImageMapType(n);t.setAt(s,a)}),t.length>this.mapLayers.length&&t.removeAt(t.length-1)},region:function(){if(0===this.region.length)this.initRegion();else if(window.google){var t=window.google.maps.geometry.spherical.computeArea(this.$refs.polygon.$polygonObject.getPath())/1e6;t>this.maxRegionSize&&this.$toasted.show("Your regions area ("+t.toFixed(2)+" km^2) exceeds the limit of "+this.maxRegionSize+" km^2.",{duration:6e3})}},focusToggle:function(){var t=this.$refs.googlemap.$mapObject.getBounds().toJSON(),e=Math.abs(t.north-t.south)/4,s=Math.abs(t.east-t.west)/4,n={lat:t.north-e,lng:t.west+s},a={lat:t.north-e,lng:t.east-s},o={lat:t.south+e,lng:t.west+s},i={lat:t.south+e,lng:t.east-s};this.setRegion([n,a,i,o])},viewBounds:function(){this.$refs.googlemap.fitBounds(this.viewBounds)}},methods:a()({},s.i(o.a)(["addMarker","deleteMarker","initRegion","setLoadingTiles","setRegion"]),{clicked:function(t){this.editing&&window.google.maps.geometry.poly.containsLocation(t.latLng,new window.google.maps.Polygon({paths:this.region}))?this.addMarker({lat:t.latLng.lat(),lng:t.latLng.lng()}):this.editing&&this.$toasted.show("Please focus region before training a classification.",{duration:4e3})},updateOpacity:function(){this.$nextTick(function(){for(var t=0;t<this.mapLayers.length;t++)null!==this.mapLayers[t]&&this.$refs.googlemap.$mapObject.overlayMapTypes.length>=1&&this.$refs.googlemap.$mapObject.overlayMapTypes.getAt(t).setOpacity(this.mapLayers[t].visualized?this.mapLayers[t].opacity/100:0)})},getIcon:function(t){return{path:window.google.maps.SymbolPath.BACKWARD_CLOSED_ARROW,fillColor:t,fillOpacity:.6,strokeColor:"white",strokeWeight:.5,scale:4}},getOpacity:function(){return this.showMarkers?1:0},loaded:function(){this.setLoadingTiles(!1)},updateEdited:function(t){for(var e=[],s=0;s<t.getAt(0).getLength();s++){var n=t.getAt(0).getAt(s);e.push({lat:n.lat(),lng:n.lng()})}this.setRegion(e)}}),created:function(){this.initRegion()}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(4),a=s.n(n),o=s(1),i=s(2),r=s(238),l=s.n(r);e.default={name:"layer",props:["layerData","layerIDX"],components:{vueSlider:l.a},store:i.a,computed:s.i(o.c)(["mapLayers"]),data:function(){return{isPredictorLayer:this.layerData.name.startsWith("Predictor"),layerName:this.layerData.name+this.layerData.label,slider:{height:3,min:0,max:100,processStyle:{backgroundColor:"#c62828"},sliderStyle:{backgroundColor:"#c62828",boxShadow:"none"},tooltipStyle:{backgroundColor:"#c62828",border:"1px solid #c62828"}}}},methods:a()({},s.i(o.a)(["deleteMapLayer"]),{deleteLayer:function(){this.deleteMapLayer(this.layerIDX)}})}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(2),a=s(1);e.default={name:"loader",store:n.a,computed:s.i(a.c)(["loaderActive"])}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(4),a=s.n(n),o=s(2),i=s(1);e.default={name:"map-control",store:o.a,computed:a()({},s.i(i.c)(["predictorVis","region","past","showMarkers"])),data:function(){return{markerVisibility:!0,predVis:"natural",mean:0,total_sd:0,sigma:"2",last:""}},watch:{markerVisibility:function(){this.setShowMarkers(this.markerVisibility)},showMarkers:function(){this.showMarkers!==this.markerVisibility&&(this.markerVisibility=this.showMarkers)},past:function(){this.getPredictorLayer(!0)}},methods:a()({},s.i(i.a)(["addMapLayer","setLoadingTiles","setShowMarkers"]),{getPredictorLayer:function(t){var e=this,s=this.predVis+", "+this.sigma+", "+this.past;if(this.last!==s){this.last=s;var n=this,a={predictor:this.predVis,sigma:parseFloat(this.sigma),region:this.region,past:this.past};t||(a.mean=this.mean,a.total_sd=this.total_sd),this.setLoadingTiles(!0),this.$http.post("/api/predictorlayer",a).then(function(t){n.total_sd=t.body.total_sd,n.mean=t.body.mean,n.addMapLayer({type:"predictor",name:"Predictor "+(n.past?"99-03":"14-17")+": ",label:t.body.label,mapid:t.body.mapid,token:t.body.token}),e.setLoadingTiles(!1)}).catch(function(t){e.setLoadingTiles(!1),console.log(t),n.$toasted.show("Error getting predictor layer.",{duration:5e3})})}}})}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(1),a=s(2),o=s(191),i=s.n(o);e.default={name:"opacity-control",store:a.a,components:{Layer:i.a},computed:s.i(n.c)(["mapLayers"])}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(2),a=s(1);e.default={name:"past-switch",store:n.a,data:function(){return{present:!0}},watch:{present:function(){this.setPast(!this.present)}},methods:s.i(a.a)(["setPast"])}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"results",methods:{resultsModal:function(){this.$modal.show("resultsModal")}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(4),a=s.n(n),o=s(1),i=s(2);e.default={name:"search-box",store:i.a,methods:a()({},s.i(o.a)(["search"]),{placeChanged:function(t){this.search(t)}})}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(1),a=s(2);e.default={name:"select-predictors",store:a.a,computed:s.i(n.c)(["predictors"]),methods:s.i(n.a)(["selectPredictors"]),data:function(){return{selected:[]}},watch:{selected:function(){this.selectPredictors(this.selected)},predictors:function(){this.selected=this.predictors.filter(function(t){return t.checked}).map(function(t){return t.short_name})}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(184),a=s.n(n),o=s(185),i=s.n(o),r=s(186),l=s.n(r),c=s(187),d=s.n(c),u=s(188),m=s.n(u),p=s(189),f=s.n(p),g=s(193),h=s.n(g),v=s(194),y=s.n(v),_=s(196),b=s.n(_),w=s(197),x=s.n(w),C=s(198),k=s.n(C),A=s(195),M=s.n(A),R=s(2),L=s(1);e.default={name:"sidebar",store:R.a,computed:s.i(L.c)(["emailAddress","citation"]),components:{Assessment:a.a,BuildTraining:i.a,Classify:l.a,EmailAddress:d.a,Export:m.a,PastSwitch:M.a,FocusRegion:f.a,MapControl:h.a,OpacityControl:y.a,Results:b.a,SearchBox:x.a,SelectPredictors:k.a},methods:{helpModal:function(){this.$modal.show("helpModal")},openCitation:function(){this.$modal.show("dialog",{text:this.citation,buttons:[{title:"Close"}]})}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(4),a=s.n(n),o=s(1),i=s(2),r=s(72),l=s.n(r),c=s(36);e.default={name:"modal-assessment",store:i.a,components:{status:l.a},data:function(){return{aoo:0,eoo:0,area:0,grids:0,units:"",aoo_1pc:0,status:"",selected:{},downloadReady:!1}},methods:a()({beforeOpen:function(t){this.selected=this.classes()[t.params.selectedIndex],this.status="Calculating Area and AOO statistics for "+this.selected.name,this.area=0,this.aoo=0,this.aoo_1pc=0,this.grids=0,this.eoo=0,this.downloadReady=!1,this.getAoo()},getAoo:function(){var t=this,e=this;this.$http.post("/api/assessment/aoo",this.mapData()).then(function(e){t.status="Calculating EOO",t.area=e.body.area,t.grids=e.body.grids,t.units=e.body.units,t.aoo=e.body.aoo,t.aoo_1pc=e.body.aoo_1pc,t.getEoo()}).catch(function(s){console.log(s),s.body.message.match(/^Deadline/)?t.getAoo():e.status="Error getting Area and AOO: "+s.body.message})},getEoo:function(){var t=this,e=this;this.$http.post("/api/assessment/eoo",this.mapData()).then(function(s){e.eoo=s.body.eoo,e.status="",t.downloadReady=!0}).catch(function(s){console.log(s),t.err.body.message.match(/^Deadline/)?t.getEoo():e.status="Error getting EOO: "+s.body.message})},downloadCSV:function(){var t=["class_name","aoo","aoo_1pc","grids","grid_size","eoo","units"].join(","),e=[this.selected.name,this.aoo,this.aoo_1pc,this.grids,"10km x 10km",this.eoo,this.units].join(","),n=[t].concat([e]),a=new Blob([n.join("\n")+"\n"],{type:"text/csv"});s.i(c.a)("remap_assessment_"+this.selected.name+".csv",a)}},s.i(o.c)(["mapData","classes"]))}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(4),a=s.n(n),o=s(1),i=s(2),r=s(183);s.n(r);e.default={name:"modal-class",store:i.a,components:{Sketch:r.Sketch},computed:s.i(o.c)(["editingClass"]),data:function(){return{className:"",colour:"#77AADD"}},watch:{editingClass:function(t){this.colour=t.colour,this.className=t.name}},methods:a()({},s.i(o.a)(["deleteClass","editClass"]),{save:function(){this.editClass({colour:this.colour.hex||this.colour,className:this.className}),this.$modal.hide("classModal")},close:function(){this.$modal.hide("classModal")},deleteClassClick:function(){this.deleteClass(this.editingClass),this.$modal.hide("classModal")}})}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(4),a=s.n(n),o=s(1),i=s(2),r=s(72),l=s.n(r),c=s(36);e.default={name:"modal-results",store:i.a,components:{status:l.a},data:function(){return{rows:!1,columns:[{type:"string",label:"Class"},{type:"number",label:"Area"},{type:"string",role:"style"}],options:{title:"Area in KM^2 (Estimate)",legend:{position:"none"}},status:"Getting Area barchart...",downloadReady:!1,accuracy:!1}},methods:a()({},s.i(o.c)(["mapData","json","classes"]),{getPerformance:function(){var t=this;this.$http.post("/api/performance",this.mapData()).then(function(e){t.accuracy=e.body,t.status=!1}).catch(function(e){console.log(e),e.body.message.match("^Deadline")?(t.status="Deadline Exceeded, trying again",t.getPerformance()):t.status="Error getting results: "+e.body.message})},beforeOpen:function(){this.rows=!1,this.accuracy=!1,this.downloadReady=!1,this.status="Getting Area barchart...",this.getHistData()},areaCSV:function(){var t=["class_name,area_km2"].concat(this.rows.map(function(t){return t[0]+", "+t[1]})),e=new Blob([t.join("\n")+"\n"],{type:"text/csv"});s.i(c.a)("remap_area.csv",e)},getHistData:function(){var t=this,e=function(t){return t/1e6};this.$http.post("/api/areadata",this.mapData()).then(function(s){t.rows=t.classes().map(function(t,n){return[t.name,e(s.body.groups[n].classification),"color: "+t.colour]}),t.status="Getting Accuracy Information.",t.getPerformance(),t.downloadReady=!0}).catch(function(e){console.log(e),e.body.message.match("^Deadline")?(t.status="Deadline Exceeded, trying again",t.getHistData()):t.status="Error getting area column chart: "+e.body.message})}})}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(58),a=s.n(n),o=s(4),i=s.n(o),r=s(1),l=s(2),c=s(178);e.default={name:"modal-upload",store:l.a,computed:s.i(r.c)(["classes","region"]),data:function(){return{changeRegion:!0}},methods:i()({},s.i(r.a)(["addClass","addMarker","clearClasses","selectClass","setClasses","setRegion","setRegionFocus","setBounds"]),{loadFromCSV:function(t){for(var e=t.split("\n").filter(function(t){return""!==t}),s=0,n=0,a=new window.google.maps.LatLngBounds,o=1;o<e.length;o++){var i=e[o].split(",");if(i[2]=i[2].trim(),this.validateLine(i))if(i[0]=parseFloat(i[0]),i[1]=parseFloat(i[1]),this.changeRegion||window.google.maps.geometry.poly.containsLocation(new window.google.maps.LatLng(i[0],i[1]),new window.google.maps.Polygon({paths:this.region}))){var r=this.classes.findIndex(function(t){return t.name===i[2]});-1===r?this.addClass(i[2]):this.selectClass(r),this.addMarker({lat:i[0],lng:i[1]}),this.changeRegion&&a.extend(new window.google.maps.LatLng(i[0],i[1]))}else n++;else s++}if(this.changeRegion){var l=[{lat:a.getNorthEast().lat()+.01,lng:a.getNorthEast().lng()+.01},{lat:a.getSouthWest().lat()-.01,lng:a.getNorthEast().lng()+.01},{lat:a.getSouthWest().lat()-.01,lng:a.getSouthWest().lng()-.01},{lat:a.getNorthEast().lat()+.01,lng:a.getSouthWest().lng()-.01}];this.setRegion(l),this.setBounds(a)}0!==s&&this.$toasted.show(s+" points omitted from CSV for being invalid.",{duration:5e3}),0!==n&&this.$toasted.show(n+" points omitted from CSV for being outside the region.",{duration:5e3})},loadFromJSON:function(t){var e=null;try{e=JSON.parse(t)}catch(t){return this.$toasted.show(t.message,{duration:5e3}),!1}return this.validateJSON(e)?(this.setRegionFocus(e.region),this.setClasses(e.classes),!0):(this.$toasted.show("Error in your JSON input. Please check the format.",{duration:5e3}),!1)},loadFromKML:function(t){var e=null;try{var s=(new DOMParser).parseFromString(t,"text/xml");e=c.kml(s)}catch(t){return void this.$toasted.show("Error: Invalid KML",{duration:5e3})}var n=!0,o=!1,i=void 0;try{for(var r,l=a()(e.features);!(n=(r=l.next()).done);n=!0){var d=r.value;if("Polygon"===d.geometry.type){var u=d.geometry.coordinates[0].map(function(t){return{lat:t[1],lng:t[0]}});this.setRegionFocus(u);break}}}catch(t){o=!0,i=t}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}},upload:function(t,e){var s=new FileReader,n=e.target.files[0];s.onloadend=function(e){if(e.target.readyState===FileReader.DONE)switch(t){case"CSV":this.clearClasses(),this.loadFromCSV(e.target.result);break;case"JSON":this.clearClasses(),this.loadFromJSON(e.target.result);break;case"KML":this.loadFromKML(e.target.result)}}.bind(this),s.readAsText(n),this.$modal.hide("uploadModal")},uploadClick:function(t){this.$refs[t+"Btn"].click()},validateJSON:function(t){if(!("region"in t))return!1;if(t.region.length<3)return!1;for(var e=0;e<t.region.length;e++)if(!this.validateLatLngPair(t.region[e]))return!1;if(!("classes"in t))return!1;for(e=0;e<t.classes.length;e++){if(!("colour"in t.classes[e]))return!1;if(!("markers"in t.classes[e]))return!1;for(var s=0;s<t.classes[e].markers.length;s++)if(!this.validateLatLngPair(t.classes[e].markers[s]))return!1}return!0},validateLatLngPair:function(t){return t instanceof Array?!isNaN(+t[0])&&!isNaN(+t[1]):!isNaN(+t.lat)&&!isNaN(+t.lng)},validateLine:function(t){return 3===t.length&&this.validateLatLngPair(t.slice(0,2))}})}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"status",props:["status"]}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,function(t,e,s){t.exports=s.p+"static/img/LogoRedSponsors_v1_small-01.6ae2363.png"},,,,,function(t,e,s){function n(t){s(167)}var a=s(0)(s(95),s(226),n,"data-v-57157784",null);t.exports=a.exports},function(t,e,s){function n(t){s(170)}var a=s(0)(s(96),s(229),n,null,null);t.exports=a.exports},function(t,e,s){function n(t){s(155)}var a=s(0)(s(97),s(212),n,"data-v-0973a674",null);t.exports=a.exports},function(t,e,s){function n(t){s(172)}var a=s(0)(s(98),s(232),n,"data-v-9d6fd80c",null);t.exports=a.exports},function(t,e,s){function n(t){s(160)}var a=s(0)(s(99),s(218),n,"data-v-2e9c9f14",null);t.exports=a.exports},function(t,e,s){var n=s(0)(s(100),s(213),null,null,null);t.exports=n.exports},function(t,e,s){function n(t){s(169)}var a=s(0)(s(101),s(228),n,null,null);t.exports=a.exports},function(t,e,s){function n(t){s(176),s(175)}var a=s(0)(s(102),s(237),n,"data-v-fa673402",null);t.exports=a.exports},function(t,e,s){function n(t){s(158)}var a=s(0)(s(103),s(216),n,"data-v-242af556",null);t.exports=a.exports},function(t,e,s){function n(t){s(157)}var a=s(0)(s(104),s(215),n,null,null);t.exports=a.exports},function(t,e,s){var n=s(0)(s(105),s(225),null,null,null);t.exports=n.exports},function(t,e,s){function n(t){s(171)}var a=s(0)(s(106),s(231),n,null,null);t.exports=a.exports},function(t,e,s){var n=s(0)(s(107),s(236),null,null,null);t.exports=n.exports},function(t,e,s){var n=s(0)(s(108),s(210),null,null,null);t.exports=n.exports},function(t,e,s){function n(t){s(166)}var a=s(0)(s(109),s(224),n,"data-v-4963e356",null);t.exports=a.exports},function(t,e,s){function n(t){s(174)}var a=s(0)(s(110),s(235),n,null,null);t.exports=a.exports},function(t,e,s){function n(t){s(163)}var a=s(0)(s(111),s(221),n,null,null);t.exports=a.exports},function(t,e,s){function n(t){s(164)}var a=s(0)(s(112),s(222),n,"data-v-44f71f82",null);t.exports=a.exports},function(t,e,s){function n(t){s(159)}var a=s(0)(s(113),s(217),n,null,null);t.exports=a.exports},function(t,e,s){function n(t){s(162)}var a=s(0)(s(114),s(220),n,null,null);t.exports=a.exports},function(t,e,s){function n(t){s(168)}var a=s(0)(s(115),s(227),n,null,null);t.exports=a.exports},function(t,e,s){var n=s(0)(s(117),s(233),null,null,null);t.exports=n.exports},function(t,e,s){var n=s(0)(s(118),s(230),null,null,null);t.exports=n.exports},function(t,e,s){function n(t){s(161)}var a=s(0)(s(119),s(219),n,null,null);t.exports=a.exports},function(t,e,s){var n=s(0)(s(120),s(211),null,null,null);t.exports=n.exports},function(t,e,s){function n(t){s(165)}var a=s(0)(s(121),s(223),n,null,null);t.exports=a.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("md-list-item",{staticClass:"borderBottom"},[s("md-input-container",{staticClass:"md-input-focused"},[s("gmap-autocomplete",{staticClass:"md-input",attrs:{placeholder:"Search",selectFirstOnEnter:!0},on:{place_changed:t.placeChanged}}),s("md-icon",[t._v("search")])],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",[s("span",{domProps:{textContent:t._s(t.label)}}),t._v(" "),s("input",{ref:"input",class:t.className,attrs:{type:"text",placeholder:t.placeholder}})])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("md-list-item",{on:{click:t.check}},[s("md-icon",[t._v("play_arrow")]),s("span",[t._v("Classify!")])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("md-list-item",{on:{click:t.toggleFocus}},[s("md-icon",[t._v("games")]),s("span",[t._v("Focus Region")])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.status?s("div",{staticClass:"status"},[s("b",[t._v("Status:")]),s("span",[t._v(" "+t._s(t.status))])]):t._e()},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("md-list-item",{staticClass:"borderBottom"},[s("md-icon",[t._v("layers")]),s("span",[s("b",[t._v("Map Control")])]),s("md-list-expand",{attrs:{id:"controlList"}},[s("md-list-item",[s("md-switch",{staticClass:"md-primary",model:{value:t.markerVisibility,callback:function(e){t.markerVisibility=e},expression:"markerVisibility"}},[t._v("Markers Visible")])],1),s("md-list-item",[s("md-input-container",[s("label",{attrs:{for:"predictorVis"}},[t._v("Predictor:")]),s("md-select",{attrs:{name:"predictorVis"},on:{change:function(e){t.getPredictorLayer(!0)}},model:{value:t.predVis,callback:function(e){t.predVis=e},expression:"predVis"}},[s("md-option",{attrs:{value:"natural"}},[t._v("Natural")]),t._l(t.predictorVis,function(e,n){return s("md-option",{key:n,attrs:{value:e.short_name}},[t._v(t._s(e.short_name))])})],2)],1)],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.loaderActive?s("md-spinner",{attrs:{"md-indeterminate":"md-indeterminate"}}):t._e()},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("modal",{attrs:{name:"helpModal",width:"300px",height:"auto","pivot-y":.1}},[s("div",{staticClass:"inner"},[s("h4",[t._v("Help")]),s("br"),s("p",[t._v("Help using remap can be found at these links:")]),s("p",[s("a",{attrs:{href:"https://remap-app.org/faq",target:"_blank"}},[t._v("Frequently Asked Questions")])]),s("p",[s("a",{attrs:{href:"https://remap-app.org/tutorials",target:"_blank"}},[t._v("User Guide and Tutorials")])]),s("p",[s("a",{attrs:{href:"https://goo.gl/forms/etRt1SYclK6mz8993",target:"_blank",title:"Feedback"}},[t._v("Feedback")])])])])},staticRenderFns:[]}},function(t,e,s){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("md-list-item",[n("md-icon",[t._v("import_export")]),n("span",[t._v("Export Data")]),n("md-list-expand",[n("md-list-item",{attrs:{download:"remap-points.csv"},on:{click:t.downloadCSV}},[n("md-icon",[t._v("pin_drop")]),n("span",[t._v("Download CSV")])],1),n("md-list-item",{attrs:{download:"remap-training.json"},on:{click:t.downloadJSON}},[n("md-icon",[t._v("file_download")]),n("span",[t._v("Download JSON")])],1),n("md-list-item",{staticClass:"md-disabled noselect"},[n("span",[t._v("To Download the GeoTIFF:")])]),t.authReady?t._e():n("md-list-item",{staticClass:"md-disabled noselect"},[n("md-icon",[n("img",{attrs:{src:s(44)}})]),n("span",[t._v("Loading...")]),n("md-spinner",{attrs:{"md-size":20,"md-indeterminate":"md-indeterminate"}})],1),t.authReady&&!t.isSignedIn?n("md-list-item",{on:{click:t.signInClick}},[n("md-icon",[n("img",{attrs:{src:s(44)}})]),n("span",[t._v("Sign in with Google")])],1):t._e(),t.authReady?n("md-list-item",{attrs:{id:"g-download",disabled:!t.isSignedIn||!t.exportReady},on:{click:t.downloadDrive}},[n("md-icon",[t._v("cloud_download")]),n("span",[t._v("Drive export GeoTIFF")]),"IN_PROGRESS"===t.exportStatus?n("md-spinner",{attrs:{"md-size":20,"md-indeterminate":"md-indeterminate"}}):t._e(),"COMPLETED"===t.exportStatus?n("md-icon",{attrs:{id:"gtick"}},[t._v("done")]):t._e(),"ERROR"===t.exportStatus?n("md-icon",{attrs:{id:"gcross"}},[t._v("clear")]):t._e()],1):t._e(),n("md-list-item",{on:{click:t.downloadURL}},[n("md-icon",[t._v("cloud_download")]),n("span",[t._v("Direct Download")])],1),t.authReady&&t.isSignedIn?n("md-list-item",{on:{click:t.preSignOut}},[n("md-icon",[n("img",{attrs:{src:s(44)}})]),n("span",[t._v("Sign out")])],1):t._e()],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"vue-map-container"},[s("div",{ref:"vue-map",staticClass:"vue-map"}),t._v(" "),s("div",{staticClass:"vue-map-hidden"},[t._t("default")],2),t._v(" "),t._t("visible")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("modal",{attrs:{name:"resultsModal",width:"760px",height:"auto","pivot-y":.1},on:{"before-open":t.beforeOpen}},[s("div",{staticClass:"inner"},[s("h4",[t._v("Results")]),s("status",{attrs:{status:t.status}}),s("md-layout",[t.rows?s("div",{staticClass:"chart-container"},[s("vue-chart",{attrs:{"chart-type":"ColumnChart",columns:t.columns,rows:t.rows,options:t.options}})],1):t._e(),t.downloadReady?s("div",{staticClass:"area-download"},[s("a",{staticClass:"md-button",on:{click:t.areaCSV}},[t._v("Download Area CSV")])]):t._e()]),t.accuracy?s("md-layout",[s("md-layout",[s("p",{staticClass:"md-body-1"},[t._v("Error rate: "),s("strong",[t._v(t._s(t._f("truncate")(String(100*(1-t.accuracy.accuracy)),6,"%")))])])]),s("md-layout",[s("p",{staticClass:"md-body-1"},[t._v("The error rate is obtained by calculating the percentage of training points that were incorrectly classified by the model that was trained with all of the training data.")])])],1):t._e()],1)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("modal",{attrs:{name:"assessment-modal",width:"760px",height:"auto","pivot-y":.1},on:{"before-open":t.beforeOpen}},[s("div",{staticClass:"inner"},[s("h4",[t._v("Assessment")]),s("status",{attrs:{status:t.status}}),s("md-layout",{attrs:{"md-gutter":""}},[s("md-layout",{attrs:{"md-align":"center"}},[s("h5",[t._v("AOO")])]),s("md-layout",{attrs:{"md-align":"center"}},[s("h5",[t._v("EOO")])])],1),s("md-layout",{attrs:{"md-gutter":""}},[s("md-layout",{attrs:{"md-align":"center"}},[s("p",[t._v("We overlay the classification with a grid at a spatial resolution of 10km by 10km and count the number of squares that the ecosystem of interest occurs in.")]),s("p",[t._v("AOO 1% is the number of squares where the ecosystem has a total area of more than 1% of the grid (1km square).See the "),s("a",{attrs:{href:"/faq"}},[t._v("FAQ page")]),t._v(" for more information.")]),s("p",[t._v("This assessment is performed with the current training data on the map.")])]),s("md-layout",{attrs:{"md-align":"center"}},[s("p",[t._v("The area of a minimal convex polygon containing your ecosystem. See the"),s("a",{attrs:{href:"/faq"}},[t._v(" FAQ page")]),t._v(" for more information.")])])],1),0!==t.aoo?s("md-table",[s("md-table-header",[s("md-table-row",[s("md-table-head",[t._v("Class Name")]),s("md-table-head",[t._v("AOO")]),s("md-table-head",[t._v("AOO 1%")]),s("md-table-head",[t._v("Total Grids")]),0!==t.eoo?s("md-table-head",[t._v("EOO ("+t._s(t.units)+")")]):t._e()],1)],1),s("md-table-body",[s("md-table-row",[s("md-table-cell",[t._v(t._s(t.selected.name))]),s("md-table-cell",[t._v(t._s(t.aoo))]),s("md-table-cell",[t._v(t._s(t.aoo_1pc))]),s("md-table-cell",[t._v(t._s(t.grids))]),0!==t.eoo?s("md-table-cell",[t._v(t._s(t.eoo.toFixed(2)))]):t._e()],1)],1)],1):t._e(),t.downloadReady?s("div",{staticClass:"download-button"},[s("a",{staticClass:"md-button",on:{click:t.downloadCSV}},[t._v("Download as CSV")])]):t._e()],1)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("modal",{attrs:{name:"classModal",width:"300px",height:"auto","pivot-y":.1}},[s("md-input-container",[s("label",[t._v("Class Name")]),s("md-input",{model:{value:t.className,callback:function(e){t.className=e},expression:"className"}})],1),s("md-layout",{attrs:{"md-align":"center"}},[s("sketch",{model:{value:t.colour,callback:function(e){t.colour=e},expression:"colour"}})],1),s("div",{staticClass:"button-group"},[s("a",{on:{click:t.save}},[t._v("OK")]),s("a",{on:{click:t.close}},[t._v("Cancel")]),s("a",{on:{click:t.deleteClassClick}},[t._v("Delete")])])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"vue-street-view-pano-container"},[s("div",{ref:"vue-street-view-pano",staticClass:"vue-street-view-pano"}),t._v(" "),t._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("md-list-item",[s("md-icon",[t._v("toc")]),s("span",[t._v("Select Predictors")]),s("md-list-expand",[s("md-list-item",{attrs:{href:"methods#predictors",target:"_blank"}},[t._v("Which predictors to use?")]),s("md-list-item",[s("md-input-container",{attrs:{id:"predictorList"}},[s("label",{attrs:{for:"predictorSelect"}},[t._v("Choose predictors:")]),s("md-select",{attrs:{name:"predictorSelect",multiple:"multiple"},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},t._l(t.predictors,function(e,n){return s("md-option",{key:n,attrs:{value:e.short_name}},[t._v(t._s(e.short_name))])}))],1)],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",t._l(t.mapLayers,function(e,n){return e?s("layer",{key:n,attrs:{layerData:e,layerIDX:n}}):t._e()}))},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("md-list-item",[s("md-icon",[t._v("show_chart")]),s("span",[t._v("Assessment")]),s("md-list-expand",[s("md-list-item",[s("md-input-container",{attrs:{id:"classList"}},[s("label",{attrs:{for:"classInterest"}},[t._v("Class of interest:")]),s("md-select",{attrs:{name:"classInterest"},model:{value:t.assessSelect,callback:function(e){t.assessSelect=e},expression:"assessSelect"}},t._l(t.classes,function(e,n){return s("md-option",{key:n,attrs:{value:n}},[t._v(t._s(e.name))])}))],1)],1),s("md-list-item",[s("md-button",{staticClass:"md-accent md-raised",on:{click:t.runAssessment}},[t._v("Run Assessment")])],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("modal",{attrs:{name:"uploadModal",width:"760px",height:"auto","pivot-y":.1}},[s("div",{staticClass:"inner"},[s("h4",[t._v("Upload Data")]),s("md-layout",{attrs:{"md-gutter":"24"}},[s("md-layout",{attrs:{"md-flex":"33","md-align":"center"}},[s("h5",[t._v("CSV")])]),s("md-layout",{attrs:{"md-flex":"33","md-align":"center"}},[s("h5",[t._v("JSON")])]),s("md-layout",{attrs:{"md-flex":"33","md-align":"center"}},[s("h5",[t._v("KML")])])],1),s("md-layout",{attrs:{"md-gutter":"24"}},[s("md-layout",{attrs:{"md-flex":"33"}},[s("p",[t._v("Upload a "),s("code",[t._v(".csv")]),t._v(" file of your points. The columns should be in the order: latitude, longitude and class. Where Latitude and Longitude are in WGS84 and class is the ecosystem label.")])]),s("md-layout",{attrs:{"md-flex":"33"}},[s("p",[t._v("Upload a "),s("code",[t._v(".json")]),t._v(" file of your training data, Choose this option if you have previously used REMAP and exported the data as a json.")])]),s("md-layout",{attrs:{"md-flex":"33"}},[s("p",[t._v("Upload a "),s("code",[t._v(".KML")]),t._v(" file of your region of interest. If you have a specific region that you have a .KML for you can upload it and the region will clip to it.")])])],1),s("md-layout",{attrs:{"md-gutter":"24"}},[s("md-layout",{attrs:{"md-flex":"33","md-align":"center"}},[s("md-checkbox",{model:{value:t.changeRegion,callback:function(e){t.changeRegion=e},expression:"changeRegion"}},[t._v("Change region to fit points")])],1)],1),s("md-layout",{attrs:{"md-gutter":"24"}},[s("md-layout",{attrs:{"md-flex":"33","md-align":"center"}},[s("md-button",{staticClass:"md-accent md-raised",on:{click:function(e){t.uploadClick("csv")}}},[t._v("Upload CSV"),s("input",{ref:"csvBtn",staticClass:"hidden",attrs:{id:"csv",type:"file",accept:".csv",tabindex:"-1"},on:{change:function(e){t.upload("CSV",e)}}})])],1),s("md-layout",{attrs:{"md-flex":"33","md-align":"center"}},[s("md-button",{staticClass:"md-accent md-raised",on:{click:function(e){t.uploadClick("json")}}},[t._v("Upload JSON"),s("input",{ref:"jsonBtn",staticClass:"hidden",attrs:{id:"json",type:"file",accept:".json",tabindex:"-1"},on:{change:function(e){t.upload("JSON",e)}}})])],1),s("md-layout",{attrs:{"md-flex":"33","md-align":"center"}},[s("md-button",{staticClass:"md-accent md-raised",on:{click:function(e){t.uploadClick("kml")}}},[t._v("Upload KML"),s("input",{ref:"kmlBtn",staticClass:"hidden",attrs:{id:"kml",type:"file",accept:".kml, .kmz, .xml",tabindex:"-1"},on:{change:function(e){t.upload("KML",e)}}})])],1)],1)],1)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("gmap-map",{ref:"googlemap",staticClass:"gmap",class:{adding:t.editing},attrs:{center:t.viewCentre,zoom:t.viewZoom,"map-type-id":t.mapType,options:t.options},on:{click:t.clicked,tilesloaded:t.loaded}},[s("gmap-polygon",{ref:"polygon",attrs:{paths:t.region,editable:!0,options:t.polygonOptions},on:{paths_changed:function(e){t.updateEdited(e)}}}),t._l(t.classes,function(e,n){return s("div",t._l(e.markers,function(a,o){return s("gmap-marker",{key:o,attrs:{position:a,icon:t.getIcon(e.colour),opacity:t.getOpacity(),draggable:t.markerOptions.draggable},on:{dblclick:function(e){t.deleteMarker({classIndex:n,markerIndex:o})}}})}))})],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("md-list-item",[s("md-icon",[t._v("room")]),s("span",[t._v("Build Training Set")]),s("md-list-expand",[s("md-list-item",{on:{click:t.uploadModal}},[s("md-icon",[t._v("file_upload")]),s("span",[t._v("Upload Data")])],1),s("md-list-item",{staticClass:"noselect md-disabled",attrs:{id:"orContainer"}},[s("span",{staticClass:"text-divider"},[t._v("Or")])]),s("md-list-item",{staticClass:"borderBottom",class:{active:t.editing},on:{click:t.toggleEditing}},[s("md-icon",[t._v("add_location")]),s("span",[t._v("Add Markers")])],1),t._l(t.classes,function(e,n){return s("md-list-item",{key:n,staticClass:"classVal",class:{active:n==t.selectedIDX},on:{click:function(e){t.selectClass(n)}}},[s("div",{staticClass:"legend-colour",style:{background:e.colour}}),s("span",{staticClass:"className"},[t._v(t._s(e.name))]),s("span",{staticClass:"classNum"},[t._v(t._s(e.markers.length)+" pts")]),s("a",{on:{click:function(e){t.editClass(n)}}},[s("md-icon",[t._v("settings")])],1)])}),s("md-list-item",{staticClass:"borderTop borderBottom",on:{click:function(e){t.addClass("")}}},[s("md-icon",[t._v("add")]),s("span",[t._v("Add New Class")])],1),s("md-list-item",{on:{click:t.resetTraining}},[s("md-icon",[t._v("delete")]),s("span",[t._v("Reset Training Data")])],1)],2)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{ref:"flyaway"},[t._t("default",[s("div",{domProps:{innerHTML:t._s(t.content)}})])],2)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("md-list-item",{staticClass:"borderBottom"},[s("md-icon",[t._v("date_range")]),s("div",[s("label",{staticClass:"md-switch-label-left"},[t._v("Past")]),s("md-switch",{staticClass:"md-primary",model:{value:t.present,callback:function(e){t.present=e},expression:"present"}},[t._v("Present")])],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("md-list-item",{staticClass:"md-disabled noselect"},[s("span",[t._v(t._s(t.emailAddress))])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("input",{ref:"input",attrs:{type:"text",placeholder:t.placeholder},domProps:{value:t.value}})},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("sidebar"),s("g-map"),s("md-button",{staticClass:"md-primary md-fab md-fab-bottom-right",attrs:{href:"https://goo.gl/forms/etRt1SYclK6mz8993",target:"_blank",title:"Feedback"}},[s("md-icon",[t._v("feedback")])],1),s("modal-class"),s("modal-upload"),s("modal-assessment"),s("modal-results"),s("modal-help"),s("v-dialog"),s("loader")],1)},staticRenderFns:[]}},function(t,e,s){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("md-sidenav",{staticClass:"md-left md-fixed"},[n("a",{staticClass:"logo-link",attrs:{href:"/"}},[n("img",{attrs:{src:s(179)}})]),n("md-list",[n("search-box"),n("opacity-control"),n("past-switch"),n("map-control"),n("focus-region"),n("build-training"),n("select-predictors"),n("classify"),n("results"),n("assessment"),n("export"),t.emailAddress?n("email-address"):t._e(),n("md-list-item",[n("md-icon",[t._v("info")]),n("span",{staticClass:"md-body-1"},[n("a",{staticClass:"clickable",on:{click:t.helpModal}},[t._v("Help")]),t._v(", "),n("a",{attrs:{href:"/about",target:"_blank"}},[t._v("About")]),t._v(", "),n("a",{attrs:{href:"/methods",target:"_blank"}},[t._v("Methods ")]),t._v("and "),n("a",{staticClass:"clickable",on:{click:t.openCitation}},[t._v("Citation")])])],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("md-list-item",{on:{click:function(e){t.resultsModal()}}},[s("md-icon",[t._v("assessment")]),s("span",[t._v("Results")])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"layer borderBottom"},[t.isPredictorLayer?t._e():s("md-button",{staticClass:"md-icon-button",on:{click:t.deleteLayer}},[s("md-icon",[t._v("delete")])],1),s("md-input-container",{attrs:{"md-inline":"md-inline"}},[s("md-input",{ref:"layerName",attrs:{disabled:t.isPredictorLayer},model:{value:t.layerName,callback:function(e){t.layerName=e},expression:"layerName"}})],1),s("md-list-item",{staticClass:"short"},[s("md-checkbox",{staticClass:"md-primary",model:{value:t.layerData.visualized,callback:function(e){t.layerData.visualized=e},expression:"layerData.visualized"}}),s("vue-slider",t._b({attrs:{name:"slider",tooltip:"hover",width:"100%"},model:{value:t.layerData.opacity,callback:function(e){t.layerData.opacity=e},expression:"layerData.opacity"}},"vue-slider",t.slider,!1))],1)],1)},staticRenderFns:[]}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){}],[90]);
//# sourceMappingURL=app.d01868c28f9d0e561fd0.js.map